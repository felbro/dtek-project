#include <stdint.h>   /* Declarations of uint_32 and the like */
/*const uint8_t const black[] = {
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,
   };*/

uint8_t square[] = {
        255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
        255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
};

void drawCol(uint8_t col, uint8_t height) {
        char i;
        height /= 6;
        if(height >= 32) height = 31;
        col %= 32;

        for(i = 3; i >= 0; i--) {
                square[i*32+col] = 0b11111111 >> height;
                if(height >= 8) height -= 8;
                else height = 0;
        }
}

void graphFreq(int *arr) {

        uint8_t i;
        for (i = 1; i < 128; i++) {
                drawCol(i,arr[i]);
                if (i % 32 == 0) {
                        display_image(i-32,square);
                        //memcpy(square,black,128);
                }
        }
        display_image(96,square);
        //memcpy(square,black,128);
}

void graphAmp(int val){

}
